<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="1200" height="420" viewBox="0 0 1200 420" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .box { fill: #ffffff; stroke: #111827; stroke-width: 2; rx: 14; ry: 14; }
      .title { font-family: Arial, Helvetica, sans-serif; font-size: 20px; font-weight: 700; fill: #111827; }
      .text { font-family: Arial, Helvetica, sans-serif; font-size: 16px; fill: #111827; }
      .badge { font-family: Arial, Helvetica, sans-serif; font-size: 12px; fill: #ffffff; }
      .chip { fill: #2563eb; }
      .chip2 { fill: #059669; }
      .chip3 { fill: #7c3aed; }
      .chip4 { fill: #f59e0b; }
      .subtle { fill: #374151; }
      .arrow { stroke: #374151; stroke-width: 2.5; fill: none; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#374151"/>
    </marker>
  </defs>

  <!-- Title -->
  <text x="600" y="36" text-anchor="middle" class="title">FPGA-Accelerated NV12 Pipeline</text>
  <text x="600" y="58" text-anchor="middle" class="text">Vitis Vision + OpenCV + GStreamer (appsink/appsrc) → H.264/H.265</text>

  <!-- Boxes -->
  <rect x="30"  y="120" width="170" height="100" class="box"/>
  <text x="115" y="155" text-anchor="middle" class="title">Camera</text>
  <text x="115" y="180" text-anchor="middle" class="text">Input: NV12</text>
  <text x="115" y="200" text-anchor="middle" class="text">2K / 4K</text>

  <rect x="230" y="120" width="210" height="100" class="box"/>
  <text x="335" y="155" text-anchor="middle" class="title">GStreamer</text>
  <text x="335" y="178" text-anchor="middle" class="text">appsink</text>
  <text x="335" y="198" text-anchor="middle" class="text">Zero-copy (DMABuf)</text>

  <rect x="470" y="120" width="240" height="100" class="box"/>
  <text x="590" y="150" text-anchor="middle" class="title">FPGA Accel</text>
  <text x="590" y="172" text-anchor="middle" class="text">Vitis Vision kernel</text>
  <text x="590" y="194" text-anchor="middle" class="text">equalHist on Y-plane</text>

  <rect x="740" y="120" width="210" height="100" class="box"/>
  <text x="845" y="155" text-anchor="middle" class="title">GStreamer</text>
  <text x="845" y="178" text-anchor="middle" class="text">appsrc</text>
  <text x="845" y="198" text-anchor="middle" class="text">Shortcutting</text>

  <rect x="970" y="120" width="200" height="100" class="box"/>
  <text x="1070" y="150" text-anchor="middle" class="title">Encoder</text>
  <text x="1070" y="172" text-anchor="middle" class="text">H.264 / H.265</text>
  <text x="1070" y="194" text-anchor="middle" class="text">RTP/UDP</text>

  <!-- Arrows -->
  <line x1="200" y1="170" x2="230" y2="170" class="arrow" />
  <line x1="440" y1="170" x2="470" y2="170" class="arrow" />
  <line x1="710" y1="170" x2="740" y2="170" class="arrow" />
  <line x1="950" y1="170" x2="970" y2="170" class="arrow" />

  <!-- Bottom badges row -->
  <rect x="70" y="260" width="180" height="34" class="chip"/>
  <text x="160" y="282" text-anchor="middle" class="badge">Zero-copy (DMABuf)</text>

  <rect x="280" y="260" width="150" height="34" class="chip2"/>
  <text x="355" y="282" text-anchor="middle" class="badge">Shortcutting</text>

  <rect x="460" y="260" width="190" height="34" class="chip3"/>
  <text x="555" y="282" text-anchor="middle" class="badge">appsink → appsrc</text>

  <rect x="680" y="260" width="210" height="34" class="chip4"/>
  <text x="785" y="282" text-anchor="middle" class="badge">2K / 4K @ 30/60 FPS</text>

  <!-- Legend -->
  <text x="600" y="330" text-anchor="middle" class="text subtle">Process NV12: equalize Y; keep UV neutral (128) → Encode → Stream</text>
</svg>
